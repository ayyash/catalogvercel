import{U as P,qb as I,vb as y,xb as n}from"./chunk-2RYABZQO.js";var b=class s{transform(t,a=!1){let p=new Date().valueOf(),l=t.valueOf(),h=60*1e3,g=h*60,c=g*24,u=c*30,f=c*365,e=Math.abs(l-p),r=t.toString(),i=n.Plural("YEARS",Math.round(e/f),r);return e<h?i=n.Plural("SECONDS",Math.round(e/1e3),r):e<g?i=n.Plural("MINUTES",Math.round(e/h),r):e<c?i=n.Plural("HOURS",Math.round(e/g),r):e<u?i=n.Plural("DAYS",Math.round(e/c),r):e<f&&(i=n.Plural("MONTHS",Math.round(e/u),r)),(a?n.Get("INTIME"):n.Get("TIMEAGO")).replace("$0",i)}static \u0275fac=function(a){return new(a||s)};static \u0275pipe=P({name:"relativetime",type:s,pure:!0})};var N=class{static MapSearchListOptions(t){return t}static MapQueryListOptions(t){let a,p=t.subpath;if(t.resourceType&&t.resourceType!=="folder"){let l=t.subpath.split("/");a=l.slice(-1),p=l.slice(0,-1).join("/")}return{type:t.type||"search",space_name:t.space||y.API.rootSpace,subpath:p||"/",filter_shortnames:a||null,search:t.keyword||"",limit:t.size||100,exact_subpath:!0,sort_type:"descending",sort_by:"resource_type",retrieve_json_payload:t.withPayload||!1}}static MapEntryListOptions(t){return{retrieve_json_payload:t.withPayload||!1,retrieve_attachments:t.withAttachments||!1,validate_schema:!0}}static MapResourceUrlListOptions(t,a){return t.replace(":resource",a.resourceType||"content").replace(":space",a.space).replace(":subpath",a.subpath)}},o=class{mapper;NewDataList(t){return{total:t.total,matches:t.matches?.map(this.mapper)}}};var d=class s{static NewInstances(t){return t.map(s.NewInstance)}static NewInstance(t){return{tag:t.tag,votes:t.votes,comments:t.comments}}};var m=class{static NewInstance(t){return t?{value:t.value,reason:t.reason}:null}};var S=class s{static NewInstance(t){return{id:t.id,title:t.title,content:t.content,created:I(t.created),updated:I(t.updated),excerpt:t.excerpt,tags:t.tags?.map(a=>({id:a})),author:t.author,stats:t.stats?d.NewInstance(t.stats):null,status:m.NewInstance(t.status),voted:!1}}static NewInstances(t){return t.map(s.NewInstance)}static NewList(t){let a=new o;return a.mapper=s.NewInstance,a.NewDataList(t)}static PrepCreate(t){return{id:t.id}}static PrepSave(t){return{id:t.id}}};export{b as a,N as b,o as c,d,S as e};
